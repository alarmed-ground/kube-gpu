apiVersion: apps/v1
kind: Deployment
metadata:
  name: intrallm-webui-dev
spec:
  replicas: 1
  selector:
    matchLabels:
      app: intrallm-webui-dev
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: intrallm-webui-dev
    spec:
      volumes:
        - name: intrallm-webui-dev
          persistentVolumeClaim:
            claimName: intrallm-webui-dev
      containers:
        - name: intrallm-webui-dev
          image: 'peratchikannan/hs-public:intrallm-webui-dev-v55'
          ports:
            - containerPort: 8080
              protocol: TCP
          env:
            - name: PROMETHEUS_HOST
              value: # Prometheus HOST IP goes here
            - name: WEBUI_URL
              value: # WEBUI public url goes here
            - name: ENABLE_OAUTH_SIGNUP
              value: 'true'
            - name: MICROSOFT_REDIRECT_URI
              value: # MS redirect URI from Entra goes here
            - name: MICROSOFT_CLIENT_SECRET
              value:  # MS client secret from Entra goes here
            - name: MICROSOFT_CLIENT_TENANT_ID
              value:  # MS tenant id from Entra goes here
            - name: MICROSOFT_CLIENT_ID
              value:  # MS client id from Entra goes here
            - name: OAUTH_MERGE_ACCOUNTS_BY_EMAIL
              value: 'true'
            - name: OAUTH_SESSION_TOKEN_ENCRYPTION_KEY
              value: WEBUI_SECRET_KEY
            - name: OPENID_PROVIDER_URL
              value: # OPENID provider url goes here
          imagePullPolicy: Always
          resources:
          volumeMounts:
            - name: intrallm-webui-dev
              mountPath: /app/backend/data

